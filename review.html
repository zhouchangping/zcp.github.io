<!DOCTYPE HTML>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>无标题文档</title>
<style>
#ul1 {margin: 100px auto 0; padding: 0;}
li {float: left; margin:0 0 10px 10px; list-style:none; border: 1px solid black;}
img {width: 290px; height: 200px; display: block;}
</style>
<script>
window.onload = function() {
    
    var oUl = document.getElementById('ul1');
    var aImg = oUl.getElementsByTagName('img');
    
    showImage();
    
    window.onscroll = showImage;
    
    function showImage() {
        
        var scrollTop  = document.documentElement.scrollTop || document.body.scrollTop;
        console.log(scrollTop);
        
        for (var i=0; i<aImg.length; i++) {
            
            if ( !aImg[i].isLoad && getTop(aImg[i]) < scrollTop + document.documentElement.clientHeight ) {
                aImg[i].src = aImg[i].getAttribute('_src');
                aImg[i].isLoad = true;
                
            }
            
        }
        
    }
    
    function getTop(obj) {
        var iTop = 0;
        while(obj) {
            iTop += obj.offsetTop;
            obj = obj.offsetParent;
        }
        return iTop;
    }
    
}
</script>
</head>

<body>
    <ul id="ul1">
        <li><img _src="http://d.hiphotos.baidu.com/image/w%3D2048/sign=2846dc1369600c33f079d9c82e74500f/a044ad345982b2b7938726c333adcbef76099b98.jpg" src="img/loading.png" /></li>
        <li><img _src="img/bg.png" src="img/loading.png" /></li>
        <li><img _src="img/bg.png" src="img/loading.png" /></li>
        <li><img _src="img/bg.png" src="img/loading.png" /></li>
        <li><img _src="img/bg.png" src="img/loading.png" /></li>
        <li><img _src="img/bg.png" src="img/loading.png" /></li>
        <li><img _src="img/bg.png" src="img/loading.png" /></li>
        <li><img _src="img/bg.png" src="img/loading.png" /></li>
        <li><img _src="img/bg.png" src="img/loading.png" /></li>
        <li><img _src="img/bg.png" src="img/loading.png" /></li>
        <li><img _src="img/bg.png" src="img/loading.png" /></li>
        <li><img _src="img/bg.png" src="img/loading.png" /></li>
        <li><img _src="img/bg.png" src="img/loading.png" /></li>
        <li><img _src="img/bg.png" src="img/loading.png" /></li>
        <li><img _src="img/bg.png" src="img/loading.png" /></li>
        <li><img _src="img/bg.png" src="img/loading.png" /></li>
        <li><img _src="img/bg.png" src="img/loading.png" /></li>
        <li><img _src="img/bg.png" src="img/loading.png" /></li>
        <li><img _src="img/bg.png" src="img/loading.png" /></li>
        <li><img _src="img/bg.png" src="img/loading.png" /></li>
        <li><img _src="img/bg.png" src="img/loading.png" /></li>
        <li><img _src="img/bg.png" src="img/loading.png" /></li>
    </ul>
</body>
</html>
<!-- 浏览器第一次打开页面时，只会加载当前屏幕内的图片（由于这里页面中的img标签是写死的，所以没有用到图片对象）。页面中图片的src属性可以是一个loading.gif图片，真正的图片路径存放在_src属性中。当前屏幕内的图片完成加载后，给当前页内图片添加 isLoad 属性是 true，这样下次再到当前区域内时，由于有这个属性，就不会重复加载这张图片了。

当滚动浏览器滚动条，触发了 window.onscroll 事件后，程序继续执行，会不断加载剩下符合当前区域内的图片。

性能的影响，主要是在for循环中。每次滚动事件发生，都要去执行遍历。 -->